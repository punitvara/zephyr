#
# Copyright (c) 2017 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0
#

menuconfig APDS9960
	bool "APDS9960 Sensor"
	depends on SENSOR && I2C
	default n
	help
	  Enable driver for APDS9960 sensors.

config  APDS9960_I2C_DEV_NAME
	string "I2C Master"
	depends on APDS9960
	default I2C_SS_0_NAME
	help
	  The device name of the I2C master device to which the APDS9960
	  chip is connected.

config APDS9960_DRV_NAME
	string
	prompt "Driver name"
	default "APDS9960"
	depends on APDS9960
	help
	  Device name with which the APDS9960 is identified.

config APDS9960_THREAD_PRIORITY
	int
	prompt "Thread priority"
	depends on APDS9960
	default 10
	help
	  Priority of thread used to handle the timer and thresold triggers.

choice
        prompt "Trigger mode"
        depends on APDS9960
        default APDS9960_TRIGGER_GLOBAL_THREAD
        help
          Specify the type of triggering to be used by the driver.
          Only available for ambient light sensing mode.

config	APDS9960_TRIGGER_NONE
        bool "No trigger"

config APDS9960_TRIGGER_GLOBAL_THREAD
        bool "Use global thread"
        depends on GPIO
        select APDS9960_TRIGGER

config APDS9960_TRIGGER_OWN_THREAD
        bool "Use own thread"
        depends on GPIO
        select APDS9960_TRIGGER

endchoice

config APDS9960_TRIGGER
        bool
        depends on APDS9960

config APDS9960_GPIO_DEV_NAME
        string
        prompt "GPIO device"
        default "GPIO_0"
        depends on APDS9960 && APDS9960_TRIGGER
        help
          The device name of the GPIO device to which the APDS9960 interrupt
          pin is connected.

config APDS9960_GPIO_PIN_NUM
        int
        prompt "GPIO pin number"
        default 52
        depends on APDS9960 && APDS9960_TRIGGER
        help
          The number of the GPIO pin to which the APDS9960 interrupt pin is
          connected.

config APDS9960_THREAD_PRIORITY
        int
        prompt "Thread priority"
        depends on APDS9960 && APDS9960_TRIGGER_OWN_THREAD
        default 10
        help
          Priority of thread used by the driver to handle interrupts.

config APDS9960_THREAD_STACK_SIZE
        int
        prompt "Thread stack size"
        depends on APDS9960 && APDS9960_TRIGGER_OWN_THREAD
        default 1024
        help
          Stack size of thread used by the driver to handle interrupts.

choice
        prompt "Interrupt persist cycles"
        depends on APDS9960 && APDS9960_TRIGGER
        default APDS9960_INT_PERSIST_1
        help
          Number of consecutive intergration cycles for which the data samples
          need to remain outside the threshold window in order for the interrupt
          to be triggered.

config APDS9960_INT_PERSIST_1
        bool "1"

config APDS9960_INT_PERSIST_4
        bool "4"

config APDS9960_INT_PERSIST_8
        bool "8"

config APDS9960_INT_PERSIST_16
        bool "16"

endchoice
